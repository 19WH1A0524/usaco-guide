---
id: usaco-973
source: USACO Platinum 2016 December
title: Bessie's Snow Cow
author: Kevin Sheng
---

[Official Analysis (C++)](http://usaco.org/current/data/sol_snowcow_platinum_dec19.html)

## Explanation

Since this problem involves the answering of a series of subtree queries, we should probably
use a Euler tour of some sort to solve this problem.

There's a couple of problems we have to address:
1. Detecting when a snowball has already been colored a certain color.
2. Detecting when a snowball has children that have already been colored a certain color.
3. Actually calculating the colorfulness of a subtree.

The first two problems are solvable with our Euler tour arrays.
For each color, we create a sorted map

## Implementation

**Time Complexity:** $\mathcal{O}(N+Q\log N)$

<LanguageSection>
<CPPSection>

```cpp
```

</CPPSection>
<JavaSection>

```java
```

</JavaSection>
</LanguageSection>
